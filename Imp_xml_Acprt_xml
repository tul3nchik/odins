//Экспорт
&НаСервере
Процедура Команда1НаСервере()
	Запись = Новый ЗаписьXML;
Запись.ОткрытьФайл("C:\11\docxml.xml");
Запись.ЗаписатьОбъявлениеXML(); // формируем корневой элемент

Запись.ЗаписатьНачалоЭлемента("Дроны");
Выборка = Справочники.Дроны.Выбрать();
Пока Выборка.Следующий() Цикл
		Запись.ЗаписатьНачалоЭлемента("Дрон");  // для каждого клиента формируем свой элемент
		Запись.ЗаписатьАтрибут("Код", Строка(Выборка.Код)); // запишем код клиента в атрибут тега
		Запись.ЗаписатьТекст(Выборка.Наименование);  // Наименование клиента запишем в текст элемента
		Запись.ЗаписатьКонецЭлемента();	   // закрываем элемент клиента

КонецЦикла;
Запись.ЗаписатьКонецЭлемента();	// закрываем корневой элемент xml-документа
Запись.Закрыть();   // закрыть файл

КонецПроцедуры

&НаКлиенте
Процедура Команда1(Команда)
	Команда1НаСервере();
КонецПроцедуры

//импорт
&НаСервере
Процедура Команда2НаСервере()
	Чтение = Новый ЧтениеXML;
Чтение.ОткрытьФайл("C:\11\docxml_import.xml");
Спр="";

Пока Чтение.Прочитать() Цикл // чтение осуществляется по одному тегу

	Если Чтение.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда	// анализируем тип элемента и его имя
		Если Чтение.Имя="Цветок" Тогда
			
			Спр = Справочники.Цветы.СоздатьЭлемент(); // создаем новый элемент справочника

			Пока Чтение.ПрочитатьАтрибут() Цикл // читаем атрибуты
				Если Чтение.Имя="Код" Тогда
					Спр.Код = Число(Чтение.Значение);
				КонецЕсли;
        
				//////Если Чтение.Имя="Статус" Тогда 
				//////	//р.Статус = Строка(Чтение.Значение);
				//////КонецЕсли;
        
				Если Чтение.Имя="Изготовитель" Тогда 
					Спр.Изготовитель =Строка(Чтение.Значение);				//пр.Изготовитель = Справочники.Изготовитель(Чтение.Значение);

				КонецЕсли;
			КонецЦикла;
		КонецЕсли;
	ИначеЕсли Чтение.ТипУзла = ТипУзлаXML.Текст Тогда
	
		Спр.Наименование = Чтение.Значение;	 // заполняем наименование созданного ранее элемента
	ИначеЕсли Чтение.ТипУзла = ТипУзлаXML.КонецЭлемента Тогда
		
		Спр.Записать(); // требуется записать информацию про клиента
	КонецЕсли;
КонецЦикла;
КонецПроцедуры

&НаКлиенте
Процедура Команда2(Команда)
	Команда2НаСервере();
КонецПроцедуры
